{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$ref": "#/definitions/Welcome",
    "definitions": {
        "Welcome": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "data": {
                    "$ref": "#/definitions/Data"
                }
            },
            "title": "Welcome"
        },
        "Data": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "sightings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Sighting"
                    }
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Form"
                    }
                }
            },
            "title": "Data"
        },
        "Form": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "type": "string",
                    "format": "integer"
                },
                "id_form_universal": {
                    "type": "string"
                },
                "time_start": {
                    "type": "string",
                    "format": "time"
                },
                "time_stop": {
                    "type": "string",
                    "format": "time"
                },
                "full_form": {
                    "type": "string",
                    "format": "integer"
                },
                "version": {
                    "type": "string",
                    "format": "integer"
                },
                "lat": {
                    "type": "string"
                },
                "lon": {
                    "type": "string"
                },
                "id_form_mobile": {
                    "type": "string"
                },
                "comment": {
                    "type": "string"
                },
                "sightings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Sighting"
                    }
                },
                "protocol": {
                    "$ref": "#/definitions/Protocol"
                }
            },
            "title": "Form"
        },
        "Protocol": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "protocol_name": {
                    "$ref": "#/definitions/ProtocolName"
                },
                "site_code": {
                    "$ref": "#/definitions/SiteCodeUnion"
                },
                "local_site_code": {
                    "type": "string"
                },
                "advanced": {
                    "type": "string",
                    "format": "integer"
                },
                "visit_number": {
                    "type": "string",
                    "format": "integer"
                },
                "sequence_number": {
                    "type": "string",
                    "format": "integer"
                },
                "habitat": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/StocCloud"
                    }
                },
                "stoc_rain": {
                    "$ref": "#/definitions/StocCloud"
                },
                "stoc_wind": {
                    "$ref": "#/definitions/StocCloud"
                },
                "stoc_visibility": {
                    "$ref": "#/definitions/StocCloud"
                },
                "stoc_cloud": {
                    "$ref": "#/definitions/StocCloud"
                },
                "stoc_snow": {
                    "$ref": "#/definitions/StocCloud"
                },
                "list_type": {
                    "type": "string"
                }
            },
            "title": "Protocol"
        },
        "StocCloud": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "$ref": "#/definitions/IDUnion"
                },
                "#text": {
                    "$ref": "#/definitions/TextUnion"
                }
            },
            "title": "StocCloud"
        },
        "Sighting": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "date": {
                    "$ref": "#/definitions/Date"
                },
                "species": {
                    "$ref": "#/definitions/Species"
                },
                "place": {
                    "$ref": "#/definitions/Place"
                },
                "observers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Observer"
                    }
                }
            },
            "title": "Sighting"
        },
        "Date": {
            "oneOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "@timestamp": {
                            "type": "string",
                            "format": "integer"
                        },
                        "@notime": {
                            "type": "string",
                            "format": "integer"
                        },
                        "@offset": {
                            "type": "string",
                            "format": "integer"
                        },
                        "@ISO8601": {
                            "type": "string",
                            "format": "date-time"
                        },
                        "#text": {
                            "type": "string"
                        }
                    }
                },
                {
                    "type": "string",
                    "format": "integer"
                }
            ],
            "title": "Date"
        },
        "Behaviour": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "$ref": "#/definitions/BehaviourID"
                },
                "name": {
                    "$ref": "#/definitions/Name"
                },
                "#text": {
                    "$ref": "#/definitions/BehaviourText"
                }
            },
            "title": "Behaviour"
        },
        "Detail": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "count": {
                    "type": "string",
                    "format": "integer"
                },
                "sex": {
                    "$ref": "#/definitions/Sex"
                },
                "age": {
                    "$ref": "#/definitions/Age"
                },
                "condition": {
                    "$ref": "#/definitions/Condition"
                },
                "distance": {
                    "$ref": "#/definitions/Distance"
                },
                "section": {
                    "$ref": "#/definitions/Section"
                }
            },
            "title": "Detail"
        },
        "Media": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "type": "string",
                    "format": "integer"
                },
                "type": {
                    "$ref": "#/definitions/Type"
                },
                "media_is_hidden": {
                    "type": "string",
                    "format": "integer"
                },
                "path": {
                    "type": "string",
                    "format": "uri",
                    "qt-uri-protocols": [
                        "https"
                    ]
                },
                "filename": {
                    "type": "string"
                },
                "metadata": {
                    "type": "string"
                },
                "insert_date": {
                    "$ref": "#/definitions/Date"
                }
            },
            "title": "Media"
        },
        "Place": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "type": "string",
                    "format": "integer"
                },
                "id_universal": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "altitude": {
                    "type": "string",
                    "format": "integer"
                },
                "place_type": {
                    "$ref": "#/definitions/PlaceType"
                },
                "loc_precision": {
                    "type": "string",
                    "format": "integer"
                },
                "lat": {
                    "type": "string"
                },
                "lon": {
                    "type": "string"
                },
                "coord_lat": {
                    "type": "string"
                },
                "coord_lon": {
                    "type": "string"
                },
                "insee": {
                    "type": "string",
                    "format": "integer"
                },
                "municipality": {
                    "type": "string"
                },
                "county": {
                    "type": "string",
                    "format": "integer"
                },
                "country": {
                    "type": "string"
                }
            },
            "title": "Place"
        },
        "ProtectionNat": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "#text": {
                    "type": "string"
                }
            },
            "title": "ProtectionNat"
        },
        "Observer": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "type": "string",
                    "format": "integer"
                },
                "@uid": {
                    "type": "string",
                    "format": "integer"
                },
                "id_form": {
                    "type": "string",
                    "format": "integer"
                },
                "id_form_universal": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "anonymous": {
                    "type": "string",
                    "format": "integer"
                },
                "second_hand": {
                    "type": "string",
                    "format": "integer"
                },
                "traid": {
                    "type": "string",
                    "format": "integer"
                },
                "version": {
                    "type": "string",
                    "format": "integer"
                },
                "id_sighting": {
                    "type": "string",
                    "format": "integer"
                },
                "id_universal": {
                    "type": "string"
                },
                "timing": {
                    "$ref": "#/definitions/Date"
                },
                "coord_lat": {
                    "type": "string"
                },
                "coord_lon": {
                    "type": "string"
                },
                "altitude": {
                    "type": "string",
                    "format": "integer"
                },
                "atlas_grid_name": {
                    "$ref": "#/definitions/AtlasGridName"
                },
                "precision": {
                    "$ref": "#/definitions/PlaceType"
                },
                "estimation_code": {
                    "$ref": "#/definitions/EstimationCode"
                },
                "count": {
                    "type": "string",
                    "format": "integer"
                },
                "flight_number": {
                    "type": "string",
                    "format": "integer"
                },
                "has_death": {
                    "type": "string",
                    "format": "integer"
                },
                "source": {
                    "$ref": "#/definitions/Source"
                },
                "insert_date": {
                    "$ref": "#/definitions/Date"
                },
                "atlas_code": {
                    "$ref": "#/definitions/StocCloud"
                },
                "details": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Detail"
                    }
                },
                "comment": {
                    "type": "string"
                },
                "hidden": {
                    "type": "string",
                    "format": "integer"
                },
                "project": {
                    "type": "string",
                    "format": "integer"
                },
                "project_name": {
                    "$ref": "#/definitions/ProjectName"
                },
                "project_code": {
                    "$ref": "#/definitions/ProjectCode"
                },
                "update_date": {
                    "$ref": "#/definitions/Date"
                },
                "behaviours": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Behaviour"
                    }
                },
                "medias": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Media"
                    }
                },
                "entity": {
                    "$ref": "#/definitions/Entity"
                },
                "entity_fullname": {
                    "$ref": "#/definitions/EntityFullname"
                },
                "extended_info": {
                    "$ref": "#/definitions/ExtendedInfo"
                },
                "hidden_comment": {
                    "type": "string"
                },
                "committees_validation": {
                    "$ref": "#/definitions/CommitteesValidation"
                },
                "admin_hidden": {
                    "type": "string",
                    "format": "integer"
                },
                "admin_hidden_type": {
                    "$ref": "#/definitions/AdminHiddenType"
                }
            },
            "title": "Observer"
        },
        "CommitteesValidation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "chr": {
                    "type": "string"
                }
            },
            "title": "CommitteesValidation"
        },
        "ExtendedInfo": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "mortality": {
                    "$ref": "#/definitions/Mortality"
                },
                "colony": {
                    "$ref": "#/definitions/Colony"
                },
                "colony_extended": {
                    "$ref": "#/definitions/ColonyExtended"
                }
            },
            "title": "ExtendedInfo"
        },
        "Colony": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "nests": {
                    "type": "string",
                    "format": "integer"
                },
                "nests_is_min": {
                    "type": "string",
                    "format": "integer"
                },
                "couples": {
                    "type": "string",
                    "format": "integer"
                },
                "occupied_nests": {
                    "type": "string",
                    "format": "integer"
                }
            },
            "title": "Colony"
        },
        "ColonyExtended": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "nb_natural_nests": {
                    "type": "string",
                    "format": "integer"
                },
                "nb_natural_nests_is_min": {
                    "type": "string",
                    "format": "integer"
                },
                "couples": {
                    "type": "string",
                    "format": "integer"
                },
                "nb_natural_occup_nests": {
                    "type": "string",
                    "format": "integer"
                },
                "nb_artificial_nests": {
                    "type": "string",
                    "format": "integer"
                },
                "nb_artificial_nests_is_min": {
                    "type": "string",
                    "format": "integer"
                }
            },
            "title": "ColonyExtended"
        },
        "Mortality": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "death_cause2": {
                    "$ref": "#/definitions/DeathCause2"
                },
                "hunting": {
                    "$ref": "#/definitions/Hunting"
                },
                "wounded": {
                    "type": "string",
                    "format": "integer"
                },
                "predation2": {
                    "type": "string"
                },
                "comment": {
                    "type": "string"
                },
                "track_number": {
                    "type": "string"
                },
                "road_type2": {
                    "type": "string"
                },
                "collected": {
                    "type": "string"
                },
                "response": {
                    "type": "string"
                },
                "weather": {
                    "type": "string"
                },
                "recipient": {
                    "type": "string"
                }
            },
            "title": "Mortality"
        },
        "Species": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "@id": {
                    "type": "string",
                    "format": "integer"
                },
                "sys_order": {
                    "type": "string",
                    "format": "integer"
                },
                "taxonomy": {
                    "type": "string",
                    "format": "integer"
                },
                "rarity": {
                    "$ref": "#/definitions/Rarity"
                },
                "name": {
                    "type": "string"
                },
                "latin_name": {
                    "type": "string"
                },
                "category": {
                    "$ref": "#/definitions/Category"
                },
                "dir_oiseaux": {
                    "$ref": "#/definitions/StocCloud"
                },
                "protection_nat": {
                    "$ref": "#/definitions/ProtectionNat"
                },
                "uicn": {
                    "$ref": "#/definitions/StocCloud"
                },
                "lr_nat": {
                    "$ref": "#/definitions/StocCloud"
                },
                "znieff": {
                    "$ref": "#/definitions/ProtectionNat"
                }
            },
            "title": "Species"
        },
        "TextUnion": {
            "anyOf": [
                {
                    "$ref": "#/definitions/TextText"
                },
                {
                    "type": "string",
                    "format": "integer"
                }
            ],
            "title": "TextUnion"
        },
        "IDUnion": {
            "anyOf": [
                {
                    "$ref": "#/definitions/IDID"
                },
                {
                    "type": "string",
                    "format": "integer"
                }
            ],
            "title": "IDUnion"
        },
        "SiteCodeUnion": {
            "anyOf": [
                {
                    "$ref": "#/definitions/SiteCodeEnum"
                },
                {
                    "type": "string",
                    "format": "integer"
                }
            ],
            "title": "SiteCodeUnion"
        },
        "TextText": {
            "type": "string",
            "enum": [
                "Forêt (arbres > 5m de hauteur)",
                "Milieux agricoles",
                "Milieux bâtis ou urbanisés",
                "Buissons (ou jeune forêt < 5m de hauteur)",
                "Feuillus",
                "Grandes cultures",
                "Rural",
                "Prairie non cultivée",
                "Mixité prairie / cultures",
                "Buissons calcicoles",
                "Suburbain",
                "Mixte (> 10% de chaque)",
                "Conifères",
                "Autres types de cultures",
                "Urbain",
                "Semi-naturelle ou âges mélangés",
                "Haies avec arbres",
                "Bâtiments",
                "Groupes isolés de 1-10 arbres",
                "Jardins",
                "Plantation non-équienne",
                "Sous-bois éparse",
                "Plantation équienne",
                "Autre limite de terrain",
                "Jeune plantation (5-10m)",
                "Parcs municipaux, zones de loisirs",
                "Sous-bois modéré",
                "Cour de ferme, basse-cour",
                "Haies sans arbres",
                "Sous-bois dense",
                "Beaucoup d’arbres",
                "Autre essence feuillue",
                "Peu d’arbres",
                "Non pâturé",
                "Pâturé",
                "Epicéa",
                "Autre essence conifère",
                "Céréales",
                "Pin",
                "Hêtre",
                "Moyenne surface de jardins (100 - 450 m2)",
                "Beaucoup de buissons",
                "Pelouses, marais et landes",
                "Milieux aquatiques",
                "Autres marais ouverts",
                "Petit étang (50 - 450 m2)",
                "Prairie cultivée",
                "Pas de haie",
                "Traitements d’eaux usées",
                "Non utilisé/non perturbé",
                "Maïs",
                "Dystrophique (eau noire)",
                "Rives nues",
                "0 – 33%",
                "66 – 100%",
                "Absente",
                "Averses",
                "Pas de neige",
                "Bonne",
                "Absent",
                "inconnu",
                "adulte",
                "immature",
                "poussin",
                "1ère année",
                "Inconnu",
                "posé",
                "en vol",
                "contact auditif",
                "< 25m",
                "< 100m",
                "< 200m",
                "Distance plus de 200m",
                "En transit",
                "mâle",
                "femelle",
                "type femelle",
                "",
                "LC",
                "2ème année",
                "en main",
                "2.1",
                "VN"
            ],
            "title": "TextText"
        },
        "DeathCause2": {
            "type": "string",
            "enum": [
                "HUNTING",
                "ROAD_VEHICLE",
                "PREDATION",
                "OTHER_INTENT",
                "WEATHER",
                "UNKNOWN"
            ],
            "title" : "DeathCause2",
            "description": ""

        },
        "Hunting": {
            "type": "string",
            "enum": [
                "SHOOTING"
            ],
            "title" : "Hunting",
            "description": ""

        },
        "Sex": {
            "type": "string",
            "enum": [
                "U",
                "M",
                "F"
            ],
            "title" : "Sex",
            "description": ""

        },
        "Age": {
            "type": "string",
            "enum": [
                "AD",
                "MATURE",
                "SUBAD",
                "JUVENILE",
                "IMM",
                "EMERGENT",
                "PULL",
                "YOUNGDEP",
                "EXUVIE",
                "U"
            ],
            "title" : "Age",
            "description": ""

        },
        "Condition": {
            "type": "string",
            "enum": [
                "VIEW",
                "FLY",
                "LAID",
                "HAND",
                "OBSIND",
                "AUDIO",
                "U"
            ],
            "title" : "Condition",
            "description": ""
        },
        "Distance": {
            "type": "string",
            "enum": [
                "U"
            ],
            "title" : "Distance",
            "description": ""

        },
        "Section": {
            "type": "string",
            "enum": [
                "U"
            ],
            "title" : "Section",
            "description": ""

        },
        "IDID": {
            "type": "string",
            "enum": [
                "A0_A",
                "D0_D",
                "E0_E",
                "B0_B",
                "A1_1",
                "D1_4",
                "E1_3",
                "D1_2",
                "D1_3",
                "B1_2",
                "E1_2",
                "A1_3",
                "A1_2",
                "D1_6",
                "E1_1",
                "A2_1",
                "D2_1",
                "E2_1",
                "D2_5",
                "E2_2",
                "A2_3",
                "A2_9",
                "A2_2",
                "D2_4",
                "A2_5",
                "E2_3",
                "A2_8",
                "D2_6",
                "D2_2",
                "A2_7",
                "E3_3",
                "A3_5",
                "E3_4",
                "D3_1",
                "D3_2",
                "A3_7",
                "A3_10",
                "D3_3",
                "A3_8",
                "A3_2",
                "E3_6",
                "E3_8",
                "C0_C",
                "F0_F",
                "C1_8",
                "F1_2",
                "D1_1",
                "D2_7",
                "F2_5",
                "F2_1",
                "D3_4",
                "F3_3",
                "F3_9",
                "ONE_THIRD",
                "THREE_THIRD",
                "NO_RAIN",
                "STRONG_RAIN",
                "NO_SNOW",
                "GOOD_VISIBILITY",
                "NO_WIND",
                "3_3",
                "3_4",
                "3_14",
                "3_2",
                "3_10",
                "3_6",
                "3_5",
                "3_16",
                "3_13",
                "3_7",
                "3_8",
                "3_19",
                "1Y",
                "LAID",
                "FLY",
                "AUDIO",
                "LESS25",
                "LESS100",
                "LESS200",
                "MORE200",
                "TRANSIT",
                "FT",
                "LC",
                "3_18",
                "3_99",
                "3_12",
                "3_15",
                "3_11",
                "3_17",
                "3_9",
                "2Y",
                "HAND",
                "2.1",
                "VN"
            ],
            "title": "IDID"
        },
        "ProtocolName": {
            "type": "string",
            "enum": [
                "STOC_EPS",
                "STOC_SITES",
                "GENERIC_BIRD"
            ],
            "title": "ProtocolName"
        },
        "SiteCodeEnum": {
            "type": "string",
            "title": "SiteCodeEnum"
        },
        "AdminHiddenType": {
            "type": "string",
            "enum": [
                "incomplete",
                "question"
            ],
            "title": "AdminHiddenType"
        },
        "AtlasGridName": {
            "type": "string",
            "title": "AtlasGridName"
        },
        "BehaviourText": {
            "type": "string",
            "enum": [
                "Dortoir / reposoir",
                "Se nourrit",
                "Migration active"
            ],
            "title": "BehaviourText"
        },
        "BehaviourID": {
            "type": "string",
            "title": "BehaviourID"
        },
        "Name": {
            "type": "string",
            "enum": [
                "SLEEP",
                "FOOD",
                "MIGRATION_ACTIV"
            ],
            "title": "Name"
        },
        "Entity": {
            "type": "string",
            "title": "Entity"
        },
        "EntityFullname": {
            "type": "string",
            "title": "EntityFullname"
        },
        "EstimationCode": {
            "type": "string",
            "enum": [
                "EXACT_VALUE",
                "MINIMUM",
                "ESTIMATION",
                "NO_VALUE"
            ],
            "title": "EstimationCode"
        },
        "Type": {
            "type": "string",
            "enum": [
                "PHOTO",
                "SOUND"
            ],
            "title": "Type"
        },
        "PlaceType": {
            "type": "string",
            "enum": [
                "precise",
                "garden",
                "place",
                "subplace",
                "municipality"
            ],
            "title": "PlaceType"
        },
        "Category": {
            "type": "string",
            "enum": [
                "C",
                "H",
                "A",
                "B",
                "BH"
            ],
            "title": "Category"
        },
        "Rarity": {
            "type": "string",
            "enum": [
                "verycommon",
                "common",
                "unusual",
                "rare",
                "escaped",
                "veryrare",
                "never"
            ],
            "title": "Rarity"
        },
        "ProjectCode": {
            "type": "string",
            "title": "ProjectCode"
        },
        "ProjectName": {
            "type": "string",
            "title": "ProjectName"
        },
        "Source": {
            "type": "string",
            "enum": [
                "WEB",
                "MOBILE_LIVE",
                "MOBILE_LIVE_IOS",
                "MOBILE_DELAYED",
                "MOBILE_DELAYED_IOS"
            ],
            "title": "Source"
        }
    }
}